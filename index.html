<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div id="app">
        <header class="app-header">
            <h1>üí∞ Expense Tracker</h1>
            <button id="toggleThemeBtn" class="btn btn--secondary btn--sm">üåô</button>
            <button id="authBtn" class="btn btn--primary btn--sm">Sign In</button>
        </header>

        <!-- Transactions Screen -->
        <div id="transactions-screen" class="screen active">
            <div class="month-navigation">
                <button class="nav-btn" id="prevMonth">‚óÄ</button>
                <h2 id="currentMonthLabel">October 2024</h2>
                <button class="nav-btn" id="nextMonth">‚ñ∂</button>
            </div>
            
            <div class="monthly-summary">
                <div class="summary-card income">
                    <div class="summary-label">Income</div>
                    <div class="summary-value" id="monthlyIncome">‚Çπ0</div>
                </div>
                <div class="summary-card expense">
                    <div class="summary-label">Expense</div>
                    <div class="summary-value" id="monthlyExpense">‚Çπ0</div>
                </div>
                <div class="summary-card net">
                    <div class="summary-label">Net</div>
                    <div class="summary-value" id="monthlyNet">‚Çπ0</div>
                </div>
            </div>

            <div id="transactionsList"></div>
        </div>

        <!-- Analytics Screen -->
        <div id="analytics-screen" class="screen">
            <div class="period-selector">
                <button class="period-btn active" data-period="day">Day</button>
                <button class="period-btn" data-period="week">Week</button>
                <button class="period-btn" data-period="month">Month</button>
                <button class="period-btn" data-period="year">Year</button>
            </div>

            <div class="analytics-summary">
                <div class="summary-card">
                    <div class="summary-label">Total Income</div>
                    <div class="summary-value" id="analyticsIncome">‚Çπ0</div>
                </div>
                <div class="summary-card">
                    <div class="summary-label">Total Expenses</div>
                    <div class="summary-value" id="analyticsExpense">‚Çπ0</div>
                </div>
                <div class="summary-card">
                    <div class="summary-label">Net Savings</div>
                    <div class="summary-value" id="analyticsSavings">‚Çπ0</div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-card">
                    <h3>Category Distribution</h3>
                    <canvas id="categoryChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Income vs Expenses</h3>
                    <canvas id="trendChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Accounts Screen -->
        <div id="accounts-screen" class="screen">
            <div class="financial-summary">
                <div class="summary-card assets">
                    <div class="summary-label">Total Assets</div>
                    <div class="summary-value" id="totalAssets">‚Çπ0</div>
                </div>
                <div class="summary-card liabilities">
                    <div class="summary-label">Total Liabilities</div>
                    <div class="summary-value" id="totalLiabilities">‚Çπ0</div>
                </div>
                <div class="summary-card net-worth">
                    <div class="summary-label">Net Worth</div>
                    <div class="summary-value" id="netWorth">‚Çπ0</div>
                </div>
            </div>

            <button class="btn btn--primary btn--full-width" id="addAccountBtn">+ Add Account</button>

            <div id="accountsList"></div>
        </div>

        <!-- Settings Screen -->
        <div id="settings-screen" class="screen">
            <div class="settings-section">
                <h3>Expense Categories</h3>
                <div id="expenseCategoriesList"></div>
                <button class="btn btn--secondary btn--sm" id="addExpenseCategoryBtn">+ Add Category</button>
            </div>

            <div class="settings-section">
                <h3>Income Categories</h3>
                <div id="incomeCategoriesList"></div>
                <button class="btn btn--secondary btn--sm" id="addIncomeCategoryBtn">+ Add Category</button>
            </div>

            <div class="settings-section">
                <h3>Account Types</h3>
                <div id="accountTypesList"></div>
                <button class="btn btn--secondary btn--sm" id="addAccountTypeBtn">+ Add Account Type</button>
            </div>

            <div class="settings-section">
                <h3>Data Management</h3>
                <button class="btn btn--secondary" id="exportDataBtn">Export Data</button>
                <button class="btn btn--outline" id="clearDataBtn">Clear All Data</button>
            </div>
        </div>

        <!-- Floating Bottom Navigation Bar -->
        <nav class="bottom-nav-bar">
            <button class="bottom-nav-btn active" data-tab="transactions">
                <span class="nav-icon">üí∞</span>
                <span class="nav-label">Transactions</span>
            </button>
            <button class="bottom-nav-btn" data-tab="analytics">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">Analytics</span>
            </button>
            <button class="bottom-nav-btn" data-tab="accounts">
                <span class="nav-icon">üè¶</span>
                <span class="nav-label">Accounts</span>
            </button>
            <button class="bottom-nav-btn" data-tab="settings">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-label">Settings</span>
            </button>
        </nav>

        <!-- Floating Action Button -->
        <button class="fab" id="addTransactionBtn">+</button>
    </div>

    <!-- Transaction Modal -->
    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="transactionModal">&times;</span>
            <h2>Add Transaction</h2>

            <div class="type-selector" id="transactionTypeSelector">
                <button class="type-btn active" data-type="expense">Expense</button>
                <button class="type-btn" data-type="income">Income</button>
                <button class="type-btn" data-type="transfer">Transfer</button>
            </div>

            <form id="transactionForm">
                <div class="form-group">
                    <label for="transactionDate">Date</label>
                    <input type="date" id="transactionDate" required>
                </div>

                <div class="form-group">
                    <label for="transactionAmount">Amount</label>
                    <div class="amount-input-wrapper">
                        <input type="number" id="transactionAmount" required min="0" step="0.01">
                        <button type="button" class="recurring-icon" id="recurringBtn">üîÅ</button>
                    </div>
                </div>

                <div class="form-group recurring-options" id="recurringOptions" style="display: none;">
                    <label for="recurringFrequency">Recurring</label>
                    <select id="recurringFrequency">
                        <option value="none">None</option>
                        <option value="daily">Daily</option>
                        <option value="weekly">Weekly</option>
                        <option value="monthly">Monthly</option>
                        <option value="yearly">Yearly</option>
                    </select>
                </div>

                <div class="form-group" id="accountGroup">
                    <label for="transactionAccount">Account</label>
                    <select id="transactionAccount" required></select>
                </div>

                <div class="form-group" id="toAccountGroup" style="display: none;">
                    <label for="transactionToAccount">To Account</label>
                    <select id="transactionToAccount"></select>
                </div>

                <div class="form-group" id="categoryGroup">
                    <label for="transactionCategory">Category</label>
                    <select id="transactionCategory" required></select>
                </div>

                <div class="form-group">
                    <label for="transactionDescription">Description</label>
                    <input type="text" id="transactionDescription">
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn--primary">Save</button>
                    <button type="button" class="btn btn--secondary" data-modal="transactionModal">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Account Modal -->
    <div id="accountModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="accountModal">&times;</span>
            <h2>Add Account</h2>

            <form id="accountForm">
                <div class="form-group">
                    <label for="accountName">Account Name</label>
                    <input type="text" id="accountName" required>
                </div>

                <div class="form-group">
                    <label for="accountType">Account Type</label>
                    <select id="accountType" required></select>
                </div>

                <div class="form-group">
                    <label for="initialBalance">Initial Balance</label>
                    <input type="number" id="initialBalance" required step="0.01">
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="includeInTotal" checked>
                        Include in total balance
                    </label>
                </div>

                <div class="form-group credit-card-fields" style="display: none;">
                    <label for="creditLimit">Credit Limit</label>
                    <input type="number" id="creditLimit" step="0.01">
                </div>

                <div class="form-group credit-card-fields" style="display: none;">
                    <label for="billingDay">Billing Day</label>
                    <input type="number" id="billingDay" min="1" max="31">
                </div>

                <div class="form-group credit-card-fields" style="display: none;">
                    <label for="paymentDay">Payment Day</label>
                    <input type="number" id="paymentDay" min="1" max="31">
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn--primary">Save</button>
                    <button type="button" class="btn btn--secondary" data-modal="accountModal">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content auth-modal">
            <span class="close" data-modal="authModal">&times;</span>
            
            <div id="signInView">
                <h2>Sign In</h2>
                <button id="googleSignInBtn" class="btn btn--primary btn--full-width">Sign In with Google</button>
                <p style="text-align: center; margin: 20px 0;">or</p>
                <form id="signInForm">
                    <div class="form-group">
                        <input type="email" id="signInEmail" placeholder="Email" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="signInPassword" placeholder="Password" required>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Sign In</button>
                </form>
                <p style="text-align: center; margin-top: 20px;">
                    <a href="#" id="showSignUp">Create Account</a>
                </p>
            </div>

            <div id="signUpView" style="display: none;">
                <h2>Sign Up</h2>
                <form id="signUpForm">
                    <div class="form-group">
                        <input type="email" id="signUpEmail" placeholder="Email" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="signUpPassword" placeholder="Password" required>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Create Account</button>
                </form>
                <p style="text-align: center; margin-top: 20px;">
                    <a href="#" id="showSignIn">Back to Sign In</a>
                </p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
